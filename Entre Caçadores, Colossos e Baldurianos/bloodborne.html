<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bloodborne</title>
    <link rel="stylesheet" href="style.css">
</head>

<body class="pgBloodborne">


    <div class="navBloodborne">
        <div class="discernimento">
            <div id="div_discernimento"></div>
            <img src="./imagens/bloodborne/bloodborne_discernimento.png" alt="">
        </div>
    </div>

    <div class="conteudo">

        <div class="introBlood">
            <div class="fundoMascarado4"></div>
            <div class="fundoMascarado3"></div>
            <div class="fundoMascarado2"></div>
            <div class="fundoMascarado1"></div>
            <div class="fundoMascarado10"></div>

            <div class="container">
                <button class="botao" id="botao">Acordar</button>
                <input type="text" id="nomeJogador" placeholder="Digite seu nome..." >
                <div id="div_legenda"></div>

                <audio id="minister">
                    <source src="./audios/Bloodborne - Opening Cutscene.mp3" type="audio/mp3">
                </audio>
                <audio id="minister2">
                    <source src="./audios/Bloodborne - Opening Cutscene2.mp3" type="audio/mp3">
                </audio>
            </div>
        </div>

           <div class="espaco"></div>

        <div class="lobo">
            <div class="fundoMascarado6"></div>
            <div class="fundoMascarado5"></div>

            <div class="container">
                <button class="botao" onclick="atacar()">Atacar</button>
            </div>

            <audio id="morreu">
                    <source src="./audios/bloodborne_morte.mp3" type="audio/mp3">
                </audio>

        </div>

        <div class="yharnam">
            <div class="fundoMascarado9"></div>
            <div class="fundoMascarado8"></div>
            <div class="fundoMascarado7"></div>

            <div class="container">
                <button class="botao" onclick="atravessar()">Atravessar ponte</button>
            </div>
        </div>
        <div>

        </div>


    </div>

</body>

</html>

<script>

   var discernimento = parseInt(localStorage.getItem('discernimento')) || 0;
    div_discernimento. innerHTML= discernimento;

        var temArma = parseInt(localStorage.getItem('temArma')) || 0;

    var botao = document.getElementById("botao");
    botao.onclick = acordar;

function acordar() {
    var audio = document.getElementById("minister");
    var botao = document.getElementById("botao");
    var nomeInput = document.getElementById("nomeJogador");

    audio.play();
    div_legenda.innerHTML = "Ah sim... Sangue-pálido";

    setTimeout(() => {
        document.querySelector('.fundoMascarado10').style.opacity = 0;
        document.querySelector('.fundoMascarado1').style.opacity = 1;
    }, 500);

    setTimeout(() => {
        div_legenda.innerHTML = "";
    }, 3500);

    setTimeout(() => {
        div_legenda.innerHTML = "Bem, você veio ao lugar certo.";
    }, 7000);

    setTimeout(() => {
        div_legenda.innerHTML = "Yharnam é o lar do sacerdócio de sangue.";
    }, 10600);

    setTimeout(() => {
        div_legenda.innerHTML = "Você só precisa desvendar seu mistério.";
    }, 14000);

    setTimeout(() => {
        div_legenda.innerHTML = "";
    }, 16800);

    setTimeout(() => {
        document.querySelector('.fundoMascarado1').style.opacity = 0;
        document.querySelector('.fundoMascarado2').style.opacity = 1;
    }, 17000);

    setTimeout(() => {
        div_legenda.innerHTML = "Mas por onde um estrangeiro como você começará?";
    }, 18500);

    setTimeout(() => {
        div_legenda.innerHTML = "";
    }, 22000);

    setTimeout(() => {
        div_legenda.innerHTML = "Claro, com um pouco de seu próprio sangue de Yharnam...";
    }, 23800);

    setTimeout(() => {
        div_legenda.innerHTML = "";
    }, 27000);

    setTimeout(() => {
        div_legenda.innerHTML = "Mas antes, você precisará de um contrato...";
    }, 29500);

    setTimeout(() => {
        nomeInput.classList.add('show');
        botao.innerText = "Assinar";
        botao.onclick = assinar;  
    }, 33500);
}

function assinar(){
    var audio = document.getElementById("minister2");
    var botao = document.getElementById("botao");

    audio.play();
    div_legenda.innerHTML = "Bom. Tudo assinado e selado.";

    setTimeout(() => {
        div_legenda.innerHTML = "";
    }, 4500);

    setTimeout(() => {
        div_legenda.innerHTML = "Agora, vamos começar a transfusão. Ah, não se preocupe.";
    }, 6000);

    setTimeout(() => {
        document.querySelector('.fundoMascarado2').style.opacity = 0;
        document.querySelector('.fundoMascarado3').style.opacity = 1;
    }, 8000);

    setTimeout(() => {
        div_legenda.innerHTML = "";
    }, 12000);

    setTimeout(() => {
        div_legenda.innerHTML = "Aconteça o que acontecer... Talvez pareça um mero sonho ruim...";
    }, 14000);

    setTimeout(() => {
        document.querySelector('.fundoMascarado3').style.opacity = 0;
        document.querySelector('.fundoMascarado4').style.opacity = 1;
    }, 15000);

    setTimeout(() => {
        div_legenda.innerHTML = "";
        document.querySelector('.fundoMascarado4').style.opacity = 0;
        document.querySelector('.fundoMascarado10').style.opacity = 1;
    }, 20000);


}

function atacar(){
    var audio = document.getElementById("morreu");


    if(temArma >= 1){
        console.log('oiii')
      
    }

    else{
          setTimeout(() => {
            document.querySelector('.fundoMascarado5').style.opacity = 0;
            document.querySelector('.fundoMascarado6').style.opacity = 1;
        }, 1000);

        setTimeout(() => {
            audio.play();
        }, 1000);


        setTimeout(() => {
            window.location.href = "dream.html";
        }, 7000);
    }

}
function atravessar(){
     if(discernimento == 1){
        return
    }

    discernimento ++;
    div_discernimento. innerHTML= discernimento;
    localStorage.setItem('discernimento', discernimento);
}


</script>