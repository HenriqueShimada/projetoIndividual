<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pesadelo do Caçador</title>
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">

</head>

<body>

    <div class="navBloodborne">
        <a href="bloodborne.html">Voltar</a>
        <div class="discernimento">
            <div id="div_discernimento"></div>
            <img src="./assets/imagens/bloodborne/bloodborne_discernimento.png" alt="">
        </div>
    </div>

    <div class="yharnam pesadelo">
        <h2>Pesadelo do Caçador</h2>
        <div class="container">
            <p class="descricaoJogo">
                O Pesadelo do Caçador é a primeira camada do tormento eterno destinado aos caçadores do passado.
                Fragmentado e incoerente, esse mundo onírico mistura locais familiares de Yharnam com estruturas
                deformadas, conectadas por rios de sangue, pontes partidas e torres em colapso. Aqui, os caçadores
                enlouquecidos são presos por seus pecados, caçando uns aos outros por toda a eternidade. Tudo nesse
                mundo remonta à origem da Caçada, revelando os horrores que precederam a loucura atual.
            </p>
        </div>
    </div>

    <div class="mecanica">
        <h2>Áreas</h2>
        <div class="container">
            <div>
                <img src="./assets/imagens/bloodborne/bloodborne_pesadelo2.jpg">
                <img src="./assets/imagens/bloodborne/bloodborne_pesadelo3.jpg">
            </div>
            <p>
                O Pesadelo do Caçador é uma dimensão distorcida onde os pecados da Igreja da Cura e a insanidade dos
                caçadores tomam forma. Fragmentado como um espelho quebrado, o local mistura cenários de guerra,
                hospitais esquecidos e rios de sangue coagulado. O tempo está quebrado, e os caçadores ali presos estão
                condenados a reviver uma caçada eterna, consumidos por culpa e desespero. O ambiente é repleto de corpos
                mutilados, prédios inclinados e vestígios de experiências fracassadas, tornando o lugar um reflexo
                grotesco da própria Yharnam.

            </p>

        </div>
    </div>

    <div class="mecanica">
        <h2>Inimigos</h2>
        <div class="container">
            <p>
                Os caçadores que foram tomados pela loucura vivem eternamente nesse lugar. Muitos mantêm sua perícia e
                armas, tornando-os adversários imprevisíveis. Também há aberrações orgânicas criadas a partir de
                experimentos fracassados com o sangue, incluindo monstros colossais e cães fundidos a carne humana.
            </p>
            <div>
                <img src="./assets/imagens/bloodborne/bloodborne_cacador.png">
                <img src="./assets/imagens/bloodborne/bloodborne_bestial.png">
            </div>
        </div>
    </div>

    <div class="mecanica">
        <h2>Laurence, o Primeiro Vigário</h2>
        <div class="container">
            <div>
                <img src="./assets/imagens/bloodborne/laurence_gif.gif">
                <img src="./assets/imagens/bloodborne/bloodborne_laurence2.png">
            </div>
            <div class="coluna">
                <p>
                    Laurence foi o fundador da Igreja da Cura e o responsável por espalhar o uso do sangue antigo em
                    Yharnam. No entanto, seu destino final foi de completa bestialização. Encontrado adormecido em um
                    altar, ele desperta em chamas, simbolizando o preço de brincar com forças além da compreensão. Sua
                    luta é marcada por ataques flamejantes e uma fúria que incinera tudo ao redor, fazendo dele uma
                    lembrança ardente do fracasso da Igreja.
                </p>
                <br><br><br>
                <button class="botao" onclick="fase1()">Fase 1</button>
                <button class="botao" onclick="fase2()">Fase 2</button>
                <button class="botao" onclick="pararMusicas()">Parar Música</button>
            </div>
            <audio id="laurence1">
                <source src="./assets/audios/Bloodborne - Laurence the First Vicar with Lyrics.mp3" type="audio/mp3">
            </audio>
            <audio id="laurence2">
                <source src="./assets/audios/Bloodborne - Laurence the First Vicar2.mp3" type="audio/mp3">
            </audio>
        </div>
    </div>

    <div class="mecanica">
        <h2>Ludwig, o Amaldiçoado / Ludwig, a Espada Sagrada</h2>
        <div class="container">

            <div class="coluna">
                <p>
                    Ludwig foi o primeiro caçador da Igreja da Cura. Honrado no passado, tornou-se um monstro deformado
                    e alucinado. Em sua primeira forma, Ludwig é uma criatura animalesca, brutal e irracional. Mas
                    conforme a batalha progride, ele recupera sua lucidez ao empunhar a Espada Sagrada da Lua. Nesse
                    momento, sua luta torna-se quase nobre — uma tragédia cavaleiresca sobre fé, loucura e
                    arrependimento.
                </p>
                <br><br><br>
                <button class="botao" onclick="fase11()">Fase 1</button>
                <button class="botao" onclick="fase21()">Fase 2</button>
                <button class="botao" onclick="pararMusicas()">Parar Música</button>
            </div>

            <div>
                <img src="./assets/imagens/bloodborne/bloodborne_ludwig.jpg">
                <img src="./assets/imagens/bloodborne/ludwig_gif.gif">
            </div>
            <audio id="ludwig1">
                <source src="./assets/audios/Ludwig, the Holy Blade.mp3" type="audio/mp3">
            </audio>
            <audio id="ludwig2">
                <source src="./assets/audios/Ludwig, the Holy Blade2.mp3" type="audio/mp3">
            </audio>
        </div>
    </div>




</body>

</html>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>

<script>

    const id = Number(sessionStorage.ID_USUARIO);
    var discernimento = parseInt(sessionStorage.getItem('discernimento')) || 0;
    div_discernimento.innerHTML = discernimento;

    const laurence1 = document.getElementById("laurence1");
    const laurence2 = document.getElementById("laurence2");
    const ludwig1 = document.getElementById("ludwig1");
    const ludwig2 = document.getElementById("ludwig2");

    function pararMusicas() {
        laurence1.pause();
        laurence1.currentTime = 0;

        laurence2.pause();
        laurence2.currentTime = 0;

        ludwig1.pause();
        ludwig1.currentTime = 0;

        ludwig2.pause();
        ludwig2.currentTime = 0;
    }


    function fase1() {
        pararMusicas();
        laurence1.play();

        if (discernimento < 20) {
            discernimento += 2;
            div_discernimento.innerHTML = discernimento;
            sessionStorage.setItem('discernimento', discernimento);

                        fetch(`/conquista/registrar/${id}`, {
                method: 'POST',
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({
                    idConquista: 17
                })
            }).then(resposta => {
                if (resposta.ok) {
                    console.log("Conquista registrada");
                }
            });
            Toastify({
                text: "Conquista desbloqueada!",
                duration: 3000,
                style: {
                    background: "linear-gradient(to right, #555, #888)"

                },
            }).showToast();
        }
    }


    function fase2() {
        pararMusicas();
        laurence2.play();

            fetch(`/conquista/registrar/${id}`, {
                method: 'POST',
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({
                    idConquista: 4
                })
            }).then(resposta => {
                if (resposta.ok) {
                    console.log("Conquista registrada");
                }
            });
            Toastify({
                text: "Conquista desbloqueada!",
                duration: 3000,
                style: {
 background: "linear-gradient(to right, #5f0a87, #a4508b)"
                },
            }).showToast();
    }


    function fase11() {
        pararMusicas();
        ludwig1.play();

        if (discernimento < 22) {
            discernimento += 3;
            div_discernimento.innerHTML = discernimento;
            sessionStorage.setItem('discernimento', discernimento);

                        fetch(`/conquista/registrar/${id}`, {
                method: 'POST',
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({
                    idConquista: 16
                })
            }).then(resposta => {
                if (resposta.ok) {
                    console.log("Conquista registrada");
                }
            });
            Toastify({
                text: "Conquista desbloqueada!",
                duration: 3000,
                style: {
                    background: "linear-gradient(to right, #555, #888)"

                },
            }).showToast();
        }
    }


    function fase21() {
        pararMusicas();
        ludwig2.play();

                    fetch(`/conquista/registrar/${id}`, {
                method: 'POST',
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({
                    idConquista: 5
                })
            }).then(resposta => {
                if (resposta.ok) {
                    console.log("Conquista registrada");
                }
            });
            Toastify({
                text: "Conquista desbloqueada!",
                duration: 3000,
                style: {
                background: "linear-gradient(to right, #5f0a87, #a4508b)"
                },
            }).showToast();
    }


</script>